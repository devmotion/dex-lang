<!DOCTYPE HTML>
<html><head><link rel="stylesheet" href="/style.css" type="text/css"><meta charset="UTF-8"></head><body><div id="main-output"><div class="cell"><div class="prose-block"><h2>Fluid sim</h2>
<p>Fluid simulation code based on
<a href="https://www.josstam.com/publications">Real-Time Fluid Dynamics for Games</a> by Jos Stam</p>
</div></div><div class="cell"><div class="code-block">include &quot;plot<span class="symbol">.</span>dx&quot;
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> wrapidx (n<span class="symbol">:</span><span class="type-name">Type</span>) <span class="symbol">-&gt;</span> (i<span class="symbol">:</span><span class="type-name">Int</span>) <span class="symbol">:</span> n <span class="symbol">=</span>
  <span class="comment">-- Index wrapping around at ends.
</span>  asidx <span class="symbol">$</span> mod i <span class="symbol">$</span> size n
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> incwrap (i<span class="command">:n</span>) <span class="symbol">:</span> n <span class="symbol">=</span>  <span class="comment">-- Increment index, wrapping around at ends.
</span>  asidx <span class="symbol">$</span> mod ((ordinal i) <span class="symbol">+</span> 1) <span class="symbol">$</span> size n
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> decwrap (i<span class="command">:n</span>) <span class="symbol">:</span> n <span class="symbol">=</span>  <span class="comment">-- Decrement index, wrapping around at ends.
</span>  asidx <span class="symbol">$</span> mod ((ordinal i) <span class="symbol">-</span> 1) <span class="symbol">$</span> size n
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> finite_difference_neighbours (_<span class="symbol">:</span><span class="type-name">Add</span> a) <span class="symbol">?=&gt;</span> (x<span class="command">:n</span><span class="symbol">=&gt;</span>a) <span class="symbol">:</span> n<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  <span class="keyword">for</span> i<span class="symbol">.</span> x<span class="symbol">.</span>(incwrap i) <span class="symbol">-</span> x<span class="symbol">.</span>(decwrap i)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> add_neighbours (_<span class="symbol">:</span><span class="type-name">Add</span> a) <span class="symbol">?=&gt;</span> (x<span class="command">:n</span><span class="symbol">=&gt;</span>a) <span class="symbol">:</span> n<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  <span class="keyword">for</span> i<span class="symbol">.</span> x<span class="symbol">.</span>(incwrap i) <span class="symbol">+</span> x<span class="symbol">.</span>(decwrap i)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> apply_along_axis1 (f<span class="command">:b</span><span class="symbol">=&gt;</span>a <span class="symbol">-&gt;</span> b<span class="symbol">=&gt;</span>a) (x<span class="command">:b</span><span class="symbol">=&gt;</span>c<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> b<span class="symbol">=&gt;</span>c<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  transpose <span class="keyword">for</span> j<span class="symbol">.</span> f <span class="keyword">for</span> i<span class="symbol">.</span> x<span class="symbol">.</span>i<span class="symbol">.</span>j
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> apply_along_axis2 (f<span class="command">:c</span><span class="symbol">=&gt;</span>a <span class="symbol">-&gt;</span> c<span class="symbol">=&gt;</span>a) (x<span class="command">:b</span><span class="symbol">=&gt;</span>c<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> b<span class="symbol">=&gt;</span>c<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  <span class="keyword">for</span> i<span class="symbol">.</span> f x<span class="symbol">.</span>i
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> fdx (_<span class="symbol">:</span><span class="type-name">Add</span> a) <span class="symbol">?=&gt;</span> (x<span class="command">:n</span><span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> (n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">=</span>
  apply_along_axis1 finite_difference_neighbours x
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> fdy (_<span class="symbol">:</span><span class="type-name">Add</span> a) <span class="symbol">?=&gt;</span> (x<span class="command">:n</span><span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> (n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">=</span>
  apply_along_axis2 finite_difference_neighbours x
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> divergence (_<span class="symbol">:</span><span class="type-name">Add</span> a) <span class="symbol">?=&gt;</span> (vx<span class="command">:n</span><span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) (vy<span class="command">:n</span><span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> (n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">=</span>
  fdx vx <span class="symbol">+</span> fdy vy
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> add_neighbours_2d (_<span class="symbol">:</span><span class="type-name">Add</span> a) <span class="symbol">?=&gt;</span> (x<span class="command">:n</span><span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> (n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) <span class="symbol">=</span>
  ax1 <span class="symbol">=</span> apply_along_axis1 add_neighbours x
  ax2 <span class="symbol">=</span> apply_along_axis2 add_neighbours x
  ax1 <span class="symbol">+</span> ax2
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> project (_<span class="symbol">:</span><span class="type-name">VSpace</span> a) <span class="symbol">?=&gt;</span> (v<span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>(<span class="type-name">Fin</span> 2)<span class="symbol">=&gt;</span>a) <span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>(<span class="type-name">Fin</span> 2)<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  <span class="comment">-- Project the velocity field to be approximately mass-conserving,
</span>  <span class="comment">-- using a few iterations of Gauss-Seidel.
</span>  h <span class="symbol">=</span> 1<span class="symbol">.</span>0 <span class="symbol">/</span> <span class="type-name">IToF</span> (size n)

  <span class="comment">-- unpack into two scalar fields
</span>  vx <span class="symbol">=</span> <span class="keyword">for</span> i j<span class="symbol">.</span> v<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>(fromOrdinal _ 0)
  vy <span class="symbol">=</span> <span class="keyword">for</span> i j<span class="symbol">.</span> v<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>(fromOrdinal _ 1)

  div <span class="symbol">=</span> <span class="symbol">-</span>0<span class="symbol">.</span>5 <span class="symbol">.*</span> h <span class="symbol">.*</span> (divergence vx vy)

  p <span class="symbol">=</span> snd <span class="symbol">$</span> withState zero <span class="symbol">\</span>state<span class="symbol">.</span>
    <span class="keyword">for</span> i<span class="symbol">:</span>(<span class="type-name">Fin</span> 10)<span class="symbol">.</span>
      state <span class="symbol">:=</span> (1<span class="symbol">.</span>0 <span class="symbol">/</span> 4<span class="symbol">.</span>0) <span class="symbol">.*</span> (div <span class="symbol">+</span> add_neighbours_2d (get state))

  vx <span class="symbol">=</span> vx <span class="symbol">-</span> (0<span class="symbol">.</span>5 <span class="symbol">/</span> h) <span class="symbol">.*</span> fdx(p)
  vy <span class="symbol">=</span> vy <span class="symbol">-</span> (0<span class="symbol">.</span>5 <span class="symbol">/</span> h) <span class="symbol">.*</span> fdy(p)

  <span class="keyword">for</span> i j<span class="symbol">.</span> [vx<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">,</span> vy<span class="symbol">.</span>i<span class="symbol">.</span>j]  <span class="comment">-- pack back into a table.
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> bilinear_interp (_<span class="symbol">:</span><span class="type-name">VSpace</span> a) <span class="symbol">?=&gt;</span> (right_weight<span class="symbol">:</span><span class="type-name">Float</span>) (bottom_weight<span class="symbol">:</span><span class="type-name">Float</span>)
  (topleft<span class="symbol">:</span> a) (bottomleft<span class="symbol">:</span> a) (topright<span class="symbol">:</span> a) (bottomright<span class="symbol">:</span> a) <span class="symbol">:</span> a <span class="symbol">=</span>
  left  <span class="symbol">=</span> (1<span class="symbol">.</span>0 <span class="symbol">-</span> right_weight) <span class="symbol">.*</span> ((1<span class="symbol">.</span>0 <span class="symbol">-</span> bottom_weight) <span class="symbol">.*</span> topleft  <span class="symbol">+</span> bottom_weight <span class="symbol">.*</span> bottomleft)
  right <span class="symbol">=</span>        right_weight  <span class="symbol">.*</span> ((1<span class="symbol">.</span>0 <span class="symbol">-</span> bottom_weight) <span class="symbol">.*</span> topright <span class="symbol">+</span> bottom_weight <span class="symbol">.*</span> bottomright)
  left <span class="symbol">+</span> right
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> advect (_<span class="symbol">:</span><span class="type-name">VSpace</span> a) <span class="symbol">?=&gt;</span> (f<span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a) (v<span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>(<span class="type-name">Fin</span> 2)<span class="symbol">=&gt;</span><span class="type-name">Float</span>) <span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  <span class="comment">-- Move field f according to x and y velocities (u and v)
</span>  <span class="comment">-- using an implicit Euler integrator.
</span>
  cell_xs <span class="symbol">=</span> linspace n 0<span class="symbol">.</span>0 <span class="symbol">$</span> <span class="type-name">IToF</span> (size n)
  cell_ys <span class="symbol">=</span> linspace m 0<span class="symbol">.</span>0 <span class="symbol">$</span> <span class="type-name">IToF</span> (size m)

  <span class="keyword">for</span> i j<span class="symbol">.</span>
    <span class="comment">-- Location of source of flow for this cell.  No meshgrid!
</span>    center_xs <span class="symbol">=</span> cell_xs<span class="symbol">.</span>i <span class="symbol">-</span> v<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>(fromOrdinal _ 0)
    center_ys <span class="symbol">=</span> cell_ys<span class="symbol">.</span>j <span class="symbol">-</span> v<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>(fromOrdinal _ 1)

    <span class="comment">-- Index of source cell.
</span>    source_col <span class="symbol">=</span> floor center_xs
    source_row <span class="symbol">=</span> floor center_ys

    <span class="comment">-- Relative weight of right-hand and bottom cells.
</span>    right_weight  <span class="symbol">=</span> center_xs <span class="symbol">-</span> source_col
    bottom_weight <span class="symbol">=</span> center_ys <span class="symbol">-</span> source_row

    <span class="comment">-- Cast back to indices, wrapping around edges.
</span>    l <span class="symbol">=</span> wrapidx n  (<span class="type-name">FToI</span> source_col)
    r <span class="symbol">=</span> wrapidx n ((<span class="type-name">FToI</span> source_col) <span class="symbol">+</span> 1)
    t <span class="symbol">=</span> wrapidx m  (<span class="type-name">FToI</span> source_row)
    b <span class="symbol">=</span> wrapidx m ((<span class="type-name">FToI</span> source_row) <span class="symbol">+</span> 1)

    <span class="comment">-- A convex weighting of the 4 surrounding cells.
</span>    bilinear_interp right_weight bottom_weight f<span class="symbol">.</span>l<span class="symbol">.</span>t f<span class="symbol">.</span>l<span class="symbol">.</span>b f<span class="symbol">.</span>r<span class="symbol">.</span>t f<span class="symbol">.</span>r<span class="symbol">.</span>b
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> fluidsim (_<span class="symbol">:</span> <span class="type-name">VSpace</span> a) <span class="symbol">?=&gt;</span> (num_steps<span class="symbol">:</span> <span class="type-name">Int</span>) (color_init<span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a)
  (v<span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>(<span class="type-name">Fin</span> 2)<span class="symbol">=&gt;</span><span class="type-name">Float</span>) <span class="symbol">:</span> n<span class="symbol">=&gt;</span>m<span class="symbol">=&gt;</span>a <span class="symbol">=</span>
  (color_final<span class="symbol">,</span> v) <span class="symbol">=</span> snd <span class="symbol">$</span> withState (color_init<span class="symbol">,</span> v) <span class="symbol">\</span>state<span class="symbol">.</span>
    <span class="keyword">for</span> i<span class="symbol">:</span>(<span class="type-name">Fin</span> num_steps)<span class="symbol">.</span>
      (color<span class="symbol">,</span> v) <span class="symbol">=</span> get state
      v <span class="symbol">=</span> advect v v          <span class="comment">-- Move velocities
</span>      v <span class="symbol">=</span> project v           <span class="comment">-- Project to be volume-preserving
</span>      color <span class="symbol">=</span> advect color v  <span class="comment">-- Move color
</span>      state <span class="symbol">:=</span> (color<span class="symbol">,</span> v)
  color_final
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="prose-block"><h3>Demo</h3>
</div></div><div class="cell"><div class="code-block"><span class="type-name">N</span> <span class="symbol">=</span> <span class="type-name">Fin</span> 50
</div></div><div class="cell"><div class="code-block"><span class="type-name">M</span> <span class="symbol">=</span> <span class="type-name">Fin</span> 50
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- Create random velocity field.
</span></div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> ixkey3 (k<span class="symbol">:</span><span class="type-name">Key</span>) (i<span class="command">:n</span>) (j<span class="command">:m</span>) (k2<span class="command">:o</span>) <span class="symbol">:</span> <span class="type-name">Key</span> <span class="symbol">=</span>
  hash (hash (hash k (ordinal i)) (ordinal j)) (ordinal k2)
</div></div><div class="cell"><div class="code-block">init_velocity <span class="symbol">=</span> <span class="keyword">for</span> i<span class="symbol">:</span><span class="type-name">N</span> j<span class="symbol">:</span><span class="type-name">M</span> k<span class="symbol">:</span>(<span class="type-name">Fin</span> 2)<span class="symbol">.</span>
  3<span class="symbol">.</span>0 <span class="symbol">*</span> (randn <span class="symbol">$</span> ixkey3 (newKey 0) i j k)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- Create diagonally-striped color pattern.
</span></div></div><div class="cell"><div class="code-block">init_color <span class="symbol">=</span> <span class="keyword">for</span> i<span class="symbol">:</span><span class="type-name">N</span> j<span class="symbol">:</span><span class="type-name">M</span><span class="symbol">.</span>
  r <span class="symbol">=</span> <span class="type-name">BToF</span> <span class="symbol">$</span> (sin <span class="symbol">$</span> (<span class="type-name">IToF</span> <span class="symbol">$</span> (ordinal j) <span class="symbol">+</span> (ordinal i)) <span class="symbol">/</span> 8<span class="symbol">.</span>0) <span class="symbol">&gt;</span> 0<span class="symbol">.</span>0
  b <span class="symbol">=</span> <span class="type-name">BToF</span> <span class="symbol">$</span> (sin <span class="symbol">$</span> (<span class="type-name">IToF</span> <span class="symbol">$</span> (ordinal j) <span class="symbol">-</span> (ordinal i)) <span class="symbol">/</span> 6<span class="symbol">.</span>0) <span class="symbol">&gt;</span> 0<span class="symbol">.</span>0
  g <span class="symbol">=</span> <span class="type-name">BToF</span> <span class="symbol">$</span> (sin <span class="symbol">$</span> (<span class="type-name">IToF</span> <span class="symbol">$</span> (ordinal j) <span class="symbol">+</span> (ordinal i)) <span class="symbol">/</span> 4<span class="symbol">.</span>0) <span class="symbol">&gt;</span> 0<span class="symbol">.</span>0
  [r<span class="symbol">,</span> g<span class="symbol">,</span> b]
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- Run fluid sim and plot it.
</span></div></div><div class="cell"><div class="code-block">num_steps <span class="symbol">=</span> 5
</div></div><div class="cell"><div class="code-block">final_color <span class="symbol">=</span> fluidsim num_steps init_color init_velocity
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:html</span> imshow final_color
</div><img class="plot-img" src="data:image/png;base64, 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"></div><div class="cell"><div class="code-block">


</div></div><div class="cell"><div class="prose-block"><h3>Gradient test</h3>
</div></div><div class="cell"><div class="code-block">target <span class="symbol">=</span> transpose init_color
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">def</span> objective (v<span class="symbol">:</span><span class="type-name">N</span><span class="symbol">=&gt;</span><span class="type-name">M</span><span class="symbol">=&gt;</span>(<span class="type-name">Fin</span> 2)<span class="symbol">=&gt;</span><span class="type-name">Float</span>) <span class="symbol">:</span> <span class="type-name">Float</span> <span class="symbol">=</span>
  final_color <span class="symbol">=</span> fluidsim num_steps init_color v
  sum <span class="keyword">for</span> (i<span class="symbol">,</span> j<span class="symbol">,</span> c)<span class="symbol">.</span> sq (final_color<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>c <span class="symbol">-</span> target<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>c)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">init_vel_grad <span class="symbol">=</span> grad objective zero
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:html</span> imshow <span class="keyword">for</span> i j<span class="symbol">.</span> [0<span class="symbol">.</span>0<span class="symbol">,</span> init_vel_grad<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>(0<span class="symbol">@</span>_)<span class="symbol">,</span> init_vel_grad<span class="symbol">.</span>i<span class="symbol">.</span>j<span class="symbol">.</span>(1<span class="symbol">@</span>_)]
</div><img class="plot-img" src="data:image/png;base64, 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"></div></div></body></html>